{"ast":null,"code":"import { useRef, useCallback, useEffect } from 'react';\nfunction useStack() {\n  // Don't change to useState - if change provide callback for async operations\n  const ref = useRef([]);\n  const push = useCallback(data => {\n    ref.current.push(data);\n  }, []);\n  const pop = useCallback(() => {\n    const val = ref.current.length ? ref.current.pop() : undefined;\n    return val;\n  }, []);\n  useEffect(() => {\n    return () => {\n      ref.current = [];\n    };\n  }, []);\n  return [push, pop];\n}\nexport { useStack };","map":{"version":3,"sources":["../../../src/hooks/use-stack.hook.ts"],"names":["useStack","ref","useRef","push","useCallback","data","current","pop","val","length","undefined","useEffect"],"mappings":";AAIO,SAASA,QAAQ,GAAkB;EACtC;EACA,MAAMC,GAAG,GAAGC,MAAM,CAAM,EAAE,CAAC;EAC3B,MAAMC,IAAI,GAAGC,WAAW,CAAEC,IAAO,IAAK;IAClCJ,GAAG,CAACK,OAAO,CAACH,IAAI,CAACE,IAAI,CAAC;GACzB,EAAE,EAAE,CAAC;EAEN,MAAME,GAAG,GAAGH,WAAW,CAAC,MAAM;IAC1B,MAAMI,GAAG,GAAGP,GAAG,CAACK,OAAO,CAACG,MAAM,GAAGR,GAAG,CAACK,OAAO,CAACC,GAAG,EAAE,GAAGG,SAAS;IAC9D,OAAOF,GAAG;GACb,EAAE,EAAE,CAAC;EAENG,SAAS,CAAC,MAAM;IACZ,OAAO,MAAY;MACfV,GAAG,CAACK,OAAO,GAAG,EAAE;KACnB;GACJ,EAAE,EAAE,CAAC;EAEN,OAAO,CAACH,IAAI,EAAEI,GAAG,CAAC;AACtB","sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\n\ntype IReturn<T> = [(data: T) => void, () => T | undefined];\n\nexport function useStack<T>(): IReturn<T> {\n    // Don't change to useState - if change provide callback for async operations\n    const ref = useRef<T[]>([]);\n    const push = useCallback((data: T) => {\n        ref.current.push(data);\n    }, []);\n\n    const pop = useCallback(() => {\n        const val = ref.current.length ? ref.current.pop() : undefined;\n        return val;\n    }, []);\n\n    useEffect(() => {\n        return (): void => {\n            ref.current = [];\n        };\n    }, []);\n\n    return [push, pop];\n}\n"]},"metadata":{},"sourceType":"module"}