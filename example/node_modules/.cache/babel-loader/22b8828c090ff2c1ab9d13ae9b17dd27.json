{"ast":null,"code":"import { slicedToArray as _slicedToArray, typeof as _typeof } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport { consoleService } from '../services/console.service.js';\nimport { useMemo, useState } from 'react';\nfunction useSessionState(key, defaultValue) {\n  var value = useMemo(function () {\n    var val = sessionStorage.getItem(key);\n    if (val) {\n      try {\n        var json = JSON.parse(val);\n        return json.value;\n      } catch (ex) {\n        consoleService.error(ex);\n      }\n    }\n    return undefined;\n  }, [key]);\n  var _useState = useState(value !== undefined ? value : defaultValue),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  return [state, function (newState) {\n    sessionStorage.setItem(key, JSON.stringify({\n      type: _typeof(newState),\n      value: newState\n    }));\n    setState(newState);\n  }];\n}\nexport { useSessionState };","map":{"version":3,"sources":["../../../src/hooks/use-session-state.hook.ts"],"names":["useSessionState","key","defaultValue","value","useMemo","val","sessionStorage","getItem","json","JSON","parse","ex","consoleService","error","undefined","state","setState","useState","_useState2","newState","setItem","stringify","type"],"mappings":";;;AAQO,SAASA,eAAe,CAAIC,GAAW,EAAEC,YAAe,EAAyB;EACpF,IAAMC,KAAK,GAAGC,OAAO,CAAC,YAAM;IACxB,IAAMC,GAAG,GAAGC,cAAc,CAACC,OAAO,CAACN,GAAG,CAAC;IACvC,IAAII,GAAG,EAAE;MACL,IAAI;QACA,IAAMG,IAAY,GAAGC,IAAI,CAACC,KAAK,CAACL,GAAG,CAAqB;QACxD,OAAOG,IAAI,CAACL,KAAK;MACpB,CAAA,CAAC,OAAOQ,EAAE,EAAE;QACTC,cAAc,CAACC,KAAK,CAACF,EAAE,CAAC;MAC5B;IACJ;IACA,OAAOG,SAAS;EACpB,CAAC,EAAE,CAACb,GAAG,CAAC,CAAC;EAET,IAA0BgB,SAAAA,GAAAA,QAAQ,CAAId,KAAK,KAAKW,SAAS,GAAIX,KAAK,GAAoBD,YAAY,CAACgB;IAAAA,UAAAA,GAAAA,cAAAA,CAAAA,SAAAA,EAAAA,CAAAA,CAAAA;IAA5FH,KAAK,GAAA,UAAA,CAAA,CAAA,CAAA;IAAEC,QAAQ,GAAA,UAAA,CAAA,CAAA,CAAA;EACtB,OAAO,CACHD,KAAK,EACL,UAACI,QAAQ,EAAW;IAChBb,cAAc,CAACc,OAAO,CAClBnB,GAAG,EACHQ,IAAI,CAACY,SAAS,CAAC;MACXC,IAAI,EAAA,OAAA,CAASH,QAAQ,CAAA;MACrBhB,KAAK,EAAEgB;IACV,CAAA,CAAsB,CAC1B;IACDH,QAAQ,CAACG,QAAQ,CAAC;EACtB,CAAC,CACJ;AACL","sourcesContent":["import { consoleService } from '@common/services/console.service';\nimport { useMemo, useState } from 'react';\n\ninterface IState {\n    type: 'boolean' | 'string';\n    value: string;\n}\n\nexport function useSessionState<T>(key: string, defaultValue: T): [T, (arg: T) => void] {\n    const value = useMemo(() => {\n        const val = sessionStorage.getItem(key);\n        if (val) {\n            try {\n                const json: IState = JSON.parse(val as string) as IState;\n                return json.value;\n            } catch (ex) {\n                consoleService.error(ex);\n            }\n        }\n        return undefined;\n    }, [key]);\n\n    const [state, setState] = useState<T>(value !== undefined ? (value as unknown as T) : defaultValue);\n    return [\n        state,\n        (newState): void => {\n            sessionStorage.setItem(\n                key,\n                JSON.stringify({\n                    type: typeof newState,\n                    value: newState,\n                } as unknown as IState),\n            );\n            setState(newState);\n        },\n    ];\n}\n"]},"metadata":{},"sourceType":"module"}