{"ast":null,"code":"import { objectWithoutProperties as _objectWithoutProperties, slicedToArray as _slicedToArray, objectSpread2 as _objectSpread2, defineProperty as _defineProperty } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { jsx } from '@emotion/react';\nimport { EditFilled } from '@ant-design/icons';\nimport { CONST } from '../../constants/const.constant.js';\nimport { Countries } from '../../constants/countries.constant.js';\nimport { getInputLoqateLabel } from '../input-loqate/input-loqate.component.js';\nimport { Input } from '../input/input.component.js';\nimport { Link } from '../link/link.component.js';\nimport { Select } from '../select/select.component.js';\nimport { SimpleCollapse } from '../simple-collapse/simple-collapse.component.js';\nimport { t } from '../../hooks/use-t.hook.js';\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nvar _excluded = [\"className\", \"showCollapsePanel\", \"mode\"];\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar _ref2 = process.env.NODE_ENV === \"production\" ? {\n  name: \"1mn17or\",\n  styles: \"padding-top:0.5rem;padding-bottom:0.5rem\"\n} : {\n  name: \"5kkiu-renderOneLineEditable\",\n  styles: \"padding-top:0.5rem;padding-bottom:0.5rem;label:renderOneLineEditable;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar _ref3 = process.env.NODE_ENV === \"production\" ? {\n  name: \"zjik7\",\n  styles: \"display:flex\"\n} : {\n  name: \"ucpb73-renderOneLineEditable\",\n  styles: \"display:flex;label:renderOneLineEditable;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar _ref4 = process.env.NODE_ENV === \"production\" ? {\n  name: \"b9l38d\",\n  styles: \"width:min-content\"\n} : {\n  name: \"1r6gc0j-renderOneLineEditable\",\n  styles: \"width:min-content;label:renderOneLineEditable;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar _ref5 = process.env.NODE_ENV === \"production\" ? {\n  name: \"xrh8zp\",\n  styles: \"display:grid;grid-column-gap:16px;grid-row-gap:16px;padding-top:0.5rem;padding-bottom:0.5rem;@media (min-width: 1024px){grid-template-columns:repeat(2, minmax(0, 1fr));}\"\n} : {\n  name: \"1e436rc-renderAllEditable\",\n  styles: \"display:grid;grid-column-gap:16px;grid-row-gap:16px;padding-top:0.5rem;padding-bottom:0.5rem;@media (min-width: 1024px){grid-template-columns:repeat(2, minmax(0, 1fr));};label:renderAllEditable;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar _ref6 = process.env.NODE_ENV === \"production\" ? {\n  name: \"mmvz9h\",\n  styles: \"font-weight:400\"\n} : {\n  name: \"9efovn-Address\",\n  styles: \"font-weight:400;label:Address;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar _ref7 = process.env.NODE_ENV === \"production\" ? {\n  name: \"mmvz9h\",\n  styles: \"font-weight:400\"\n} : {\n  name: \"9efovn-Address\",\n  styles: \"font-weight:400;label:Address;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar Address = function Address(_ref) {\n  var className = _ref.className,\n    showCollapsePanel = _ref.showCollapsePanel,\n    _ref$mode = _ref.mode,\n    mode = _ref$mode === void 0 ? 'oneLineEditable' : _ref$mode,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var _useState = useState(rest.defaultValue || rest.value),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var _useState3 = useState({\n      addressLine1: false,\n      addressLine2: false,\n      addressLine3: false,\n      city: false,\n      country: false,\n      label: false,\n      originalLabel: false,\n      postCode: false\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    blur = _useState4[0],\n    setBlur = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isEditMode = _useState6[0],\n    setEditMode = _useState6[1];\n  useEffect(function () {\n    if (rest.value) {\n      setValue(_objectSpread2(_objectSpread2({}, rest.value), {}, {\n        label: getInputLoqateLabel(rest.value),\n        originalLabel: getInputLoqateLabel(rest.value)\n      }));\n    }\n  }, [rest.value]);\n  var createAddressChangeHandler = useCallback(function (propertyName) {\n    return function (e) {\n      setValue(function (val) {\n        var newValue = _objectSpread2(_objectSpread2({}, val), {}, _defineProperty({}, propertyName, e.target.value));\n        newValue.label = getInputLoqateLabel(newValue);\n        newValue.originalLabel = getInputLoqateLabel(newValue);\n        rest.onChange && rest.onChange({\n          name: rest.name,\n          value: newValue\n        });\n        return newValue;\n      });\n    };\n  }, [rest]);\n  var createBlurHandler = useCallback(function (propertyName) {\n    return function () {\n      setBlur(function (prev) {\n        return _objectSpread2(_objectSpread2({}, prev), {}, _defineProperty({}, propertyName, true));\n      });\n    };\n  }, []);\n  var handleCountryChange = useCallback(function (e) {\n    setValue(function (val) {\n      var newValue = _objectSpread2(_objectSpread2({}, val), {}, {\n        country: e.value\n      });\n      newValue.label = getInputLoqateLabel(newValue);\n      newValue.originalLabel = getInputLoqateLabel(newValue);\n      rest.onChange && rest.onChange({\n        name: rest.name,\n        value: newValue\n      });\n      return newValue;\n    });\n  }, [rest.name, rest.onChange]);\n  var createGetErrorMessage = function createGetErrorMessage(propertyName, required) {\n    var val = value ? value[propertyName] : undefined;\n    if (!blur[propertyName]) {\n      return;\n    }\n    if (required && !val) {\n      return CONST.thisFieldRequired;\n    }\n    return undefined;\n  };\n  var countryOptions = useMemo(function () {\n    return Countries.map(function (c) {\n      return {\n        label: c.name,\n        value: c['alpha-2']\n      };\n    });\n  }, []);\n  var renderOneLineEditable = function renderOneLineEditable() {\n    return jsx(\"div\", {\n      css: _ref2\n    }, jsx(\"div\", {\n      css: _ref3\n    }, !(value !== null && value !== void 0 && value.addressLine1) && !isEditMode ? jsx(\"div\", null, jsx(\"span\", {\n      css: styles.error\n    }, \"First line not found\"), jsx(Link, {\n      name: \"edit\",\n      onClick: function onClick() {\n        return setEditMode(true);\n      }\n    }, jsx(EditFilled, null), \" Edit first line\")) : jsx(Input, {\n      name: \"line1\",\n      type: \"text\",\n      css: _ref4,\n      value: value === null || value === void 0 ? void 0 : value.addressLine1,\n      onChange: createAddressChangeHandler('addressLine1'),\n      onBlur: function onBlur() {\n        createBlurHandler('addressLine1')();\n        // setEditMode(!!rest?.value?.addressLine1);\n      },\n\n      errorMessage: createGetErrorMessage('addressLine1', true)\n    })), (value === null || value === void 0 ? void 0 : value.addressLine1) && jsx(\"div\", null, value === null || value === void 0 ? void 0 : value.addressLine2), (value === null || value === void 0 ? void 0 : value.addressLine3) && jsx(\"div\", null, value === null || value === void 0 ? void 0 : value.addressLine3), jsx(\"div\", null, value === null || value === void 0 ? void 0 : value.city), jsx(\"div\", null, value === null || value === void 0 ? void 0 : value.postCode));\n  };\n  var renderAllEditable = function renderAllEditable() {\n    return jsx(\"div\", {\n      css: _ref5,\n      className: className\n    }, jsx(Input, {\n      name: \"line1\",\n      required: true,\n      label: t('Address line 1'),\n      type: \"text\",\n      value: value === null || value === void 0 ? void 0 : value.addressLine1,\n      errorMessage: createGetErrorMessage('addressLine1', true),\n      onBlur: createBlurHandler('addressLine1'),\n      onChange: createAddressChangeHandler('addressLine1')\n    }), jsx(Input, {\n      name: \"line2\",\n      label: t('Address line 2'),\n      type: \"text\",\n      value: value === null || value === void 0 ? void 0 : value.addressLine2,\n      errorMessage: createGetErrorMessage('addressLine2', false),\n      onBlur: createBlurHandler('addressLine2'),\n      onChange: createAddressChangeHandler('addressLine2')\n    }), jsx(Input, {\n      name: \"line2\",\n      label: t('Address line 3'),\n      type: \"text\",\n      value: value === null || value === void 0 ? void 0 : value.addressLine3,\n      errorMessage: createGetErrorMessage('addressLine3', false),\n      onBlur: createBlurHandler('addressLine3'),\n      onChange: createAddressChangeHandler('addressLine3')\n    }), jsx(Input, {\n      name: \"city\",\n      required: true,\n      label: t('City'),\n      type: \"text\",\n      value: value === null || value === void 0 ? void 0 : value.city,\n      errorMessage: createGetErrorMessage('city', true),\n      onBlur: createBlurHandler('city'),\n      onChange: createAddressChangeHandler('city')\n    }), jsx(Select, {\n      name: \"country\",\n      required: true,\n      label: t('Country'),\n      options: countryOptions,\n      value: value === null || value === void 0 ? void 0 : value.country,\n      showSearch: true,\n      allowClear: true,\n      errorMessage: createGetErrorMessage('country', true),\n      onBlur: createBlurHandler('country'),\n      onChange: handleCountryChange\n    }), jsx(Input, {\n      name: \"postCode\",\n      required: true,\n      label: t('Postcode'),\n      type: \"text\",\n      value: value === null || value === void 0 ? void 0 : value.postCode,\n      errorMessage: createGetErrorMessage('postCode', true),\n      onBlur: createBlurHandler('postCode'),\n      onChange: createAddressChangeHandler('postCode')\n    }));\n  };\n  return jsx(React.Fragment, null, mode === 'oneLineEditable' ? showCollapsePanel ? jsx(SimpleCollapse, {\n    className: className,\n    label: jsx(\"span\", {\n      css: _ref6\n    }, \" Edit delivery address\")\n  }, renderOneLineEditable()) : renderOneLineEditable() : showCollapsePanel ? jsx(SimpleCollapse, {\n    className: className,\n    label: jsx(\"span\", {\n      css: _ref7\n    }, \" Edit billing address\")\n  }, renderAllEditable()) : renderAllEditable());\n};\nvar styles = {\n  error: process.env.NODE_ENV === \"production\" ? {\n    name: \"hwfcu5\",\n    styles: \"color:red\"\n  } : {\n    name: \"kvksw2-error\",\n    styles: \"color:red;label:error;\",\n    map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZHJlc3MuY29tcG9uZW50LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0T2MiLCJmaWxlIjoiYWRkcmVzcy5jb21wb25lbnQudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuaW1wb3J0IHsgRWRpdEZpbGxlZCB9IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zJztcbmltcG9ydCB7IENPTlNUIH0gZnJvbSAnQGNvbW1vbi9jb25zdGFudHMvY29uc3QuY29uc3RhbnQnO1xuaW1wb3J0IHsgQ291bnRyaWVzIH0gZnJvbSAnQGNvbW1vbi9jb25zdGFudHMvY291bnRyaWVzLmNvbnN0YW50JztcbmltcG9ydCB7IElGaWVsZFByb3BzIH0gZnJvbSAnQGNvbW1vbi9nZW5lcmFsLXVpL2ZpZWxkL2ZpZWxkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRJbnB1dExvcWF0ZUxhYmVsLCBJSW5wdXRMb3FhdGVWYWx1ZSB9IGZyb20gJ0Bjb21tb24vZ2VuZXJhbC11aS9pbnB1dC1sb3FhdGUvaW5wdXQtbG9xYXRlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0Bjb21tb24vZ2VuZXJhbC11aS9pbnB1dC9pbnB1dC5jb21wb25lbnQnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ0Bjb21tb24vZ2VuZXJhbC11aS9saW5rL2xpbmsuY29tcG9uZW50JztcbmltcG9ydCB7IElTZWxlY3RDaGFuZ2VIYW5kbGVyLCBTZWxlY3QgfSBmcm9tICdAY29tbW9uL2dlbmVyYWwtdWkvc2VsZWN0L3NlbGVjdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgU2ltcGxlQ29sbGFwc2UgfSBmcm9tICdAY29tbW9uL2dlbmVyYWwtdWkvc2ltcGxlLWNvbGxhcHNlL3NpbXBsZS1jb2xsYXBzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgdCB9IGZyb20gJ0Bjb21tb24vaG9va3MvdXNlLXQuaG9vayc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICd0d2luLm1hY3JvJztcblxuZXhwb3J0IHR5cGUgSUFkZHJlc3NDaGFuZ2VIYW5kbGVyID0gKGFyZzogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBJSW5wdXRMb3FhdGVWYWx1ZSB9KSA9PiB2b2lkO1xuZXhwb3J0IGludGVyZmFjZSBJQWRkcmVzc1Byb3BzPFROYW1lID0gc3RyaW5nPiBleHRlbmRzIElGaWVsZFByb3BzPElJbnB1dExvcWF0ZVZhbHVlLCBUTmFtZT4ge1xuICAgIGNsYXNzTmFtZT86IHN0cmluZztcbiAgICBvbkNoYW5nZT86IElBZGRyZXNzQ2hhbmdlSGFuZGxlcjtcbiAgICBvbkJsdXI/OiAoZTogUmVhY3QuRm9jdXNFdmVudCkgPT4gdm9pZDtcbiAgICBtb2RlPzogJ29uZUxpbmVFZGl0YWJsZScgfCAnYWxsRWRpdGFibGUnO1xuICAgIHNob3dDb2xsYXBzZVBhbmVsPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IEFkZHJlc3MgPSAoeyBjbGFzc05hbWUsIHNob3dDb2xsYXBzZVBhbmVsLCBtb2RlID0gJ29uZUxpbmVFZGl0YWJsZScsIC4uLnJlc3QgfTogSUFkZHJlc3NQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlPElJbnB1dExvcWF0ZVZhbHVlIHwgdW5kZWZpbmVkPihyZXN0LmRlZmF1bHRWYWx1ZSB8fCByZXN0LnZhbHVlKTtcbiAgICBjb25zdCBbYmx1ciwgc2V0Qmx1cl0gPSB1c2VTdGF0ZTx7IFtrZXkgaW4ga2V5b2YgSUlucHV0TG9xYXRlVmFsdWVdOiBib29sZWFuIH0+KHtcbiAgICAgICAgYWRkcmVzc0xpbmUxOiBmYWxzZSxcbiAgICAgICAgYWRkcmVzc0xpbmUyOiBmYWxzZSxcbiAgICAgICAgYWRkcmVzc0xpbmUzOiBmYWxzZSxcbiAgICAgICAgY2l0eTogZmFsc2UsXG4gICAgICAgIGNvdW50cnk6IGZhbHNlLFxuICAgICAgICBsYWJlbDogZmFsc2UsXG4gICAgICAgIG9yaWdpbmFsTGFiZWw6IGZhbHNlLFxuICAgICAgICBwb3N0Q29kZTogZmFsc2UsXG4gICAgfSk7XG4gICAgY29uc3QgW2lzRWRpdE1vZGUsIHNldEVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChyZXN0LnZhbHVlKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgLi4ucmVzdC52YWx1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2V0SW5wdXRMb3FhdGVMYWJlbChyZXN0LnZhbHVlKSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbExhYmVsOiBnZXRJbnB1dExvcWF0ZUxhYmVsKHJlc3QudmFsdWUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbcmVzdC52YWx1ZV0pO1xuXG4gICAgY29uc3QgY3JlYXRlQWRkcmVzc0NoYW5nZUhhbmRsZXIgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKHByb3BlcnR5TmFtZToga2V5b2YgSUlucHV0TG9xYXRlVmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZSgodmFsOiBJSW5wdXRMb3FhdGVWYWx1ZSB8IHVuZGVmaW5lZCk6IElJbnB1dExvcWF0ZVZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi52YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBbcHJvcGVydHlOYW1lXTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgSUlucHV0TG9xYXRlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLmxhYmVsID0gZ2V0SW5wdXRMb3FhdGVMYWJlbChuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLm9yaWdpbmFsTGFiZWwgPSBnZXRJbnB1dExvcWF0ZUxhYmVsKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdC5vbkNoYW5nZSAmJiByZXN0Lm9uQ2hhbmdlKHsgbmFtZTogcmVzdC5uYW1lLCB2YWx1ZTogbmV3VmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIFtyZXN0XSxcbiAgICApO1xuXG4gICAgY29uc3QgY3JlYXRlQmx1ckhhbmRsZXIgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKHByb3BlcnR5TmFtZToga2V5b2YgSUlucHV0TG9xYXRlVmFsdWUpID0+ICgpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIHNldEJsdXIoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICBbcHJvcGVydHlOYW1lXTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFtdLFxuICAgICk7XG5cbiAgICBjb25zdCBoYW5kbGVDb3VudHJ5Q2hhbmdlID0gdXNlQ2FsbGJhY2s8SVNlbGVjdENoYW5nZUhhbmRsZXI+KFxuICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgICAgc2V0VmFsdWUoKHZhbDogSUlucHV0TG9xYXRlVmFsdWUgfCB1bmRlZmluZWQpOiBJSW5wdXRMb3FhdGVWYWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnZhbCxcbiAgICAgICAgICAgICAgICAgICAgY291bnRyeTogZS52YWx1ZSxcbiAgICAgICAgICAgICAgICB9IGFzIElJbnB1dExvcWF0ZVZhbHVlO1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlLmxhYmVsID0gZ2V0SW5wdXRMb3FhdGVMYWJlbChuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWUub3JpZ2luYWxMYWJlbCA9IGdldElucHV0TG9xYXRlTGFiZWwobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIHJlc3Qub25DaGFuZ2UgJiYgcmVzdC5vbkNoYW5nZSh7IG5hbWU6IHJlc3QubmFtZSwgdmFsdWU6IG5ld1ZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBbcmVzdC5uYW1lLCByZXN0Lm9uQ2hhbmdlXSxcbiAgICApO1xuXG4gICAgY29uc3QgY3JlYXRlR2V0RXJyb3JNZXNzYWdlID0gKHByb3BlcnR5TmFtZToga2V5b2YgSUlucHV0TG9xYXRlVmFsdWUsIHJlcXVpcmVkOiBib29sZWFuKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gdmFsdWUgPyB2YWx1ZVtwcm9wZXJ0eU5hbWVdIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIWJsdXJbcHJvcGVydHlOYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiAhdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gQ09OU1QudGhpc0ZpZWxkUmVxdWlyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgY29uc3QgY291bnRyeU9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIENvdW50cmllcy5tYXAoKGMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY1snYWxwaGEtMiddLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcmVuZGVyT25lTGluZUVkaXRhYmxlID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgdHc9XCJweS0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiB0dz1cImZsZXhcIj5cbiAgICAgICAgICAgICAgICAgICAgeyF2YWx1ZT8uYWRkcmVzc0xpbmUxICYmICFpc0VkaXRNb2RlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjc3M9e3N0eWxlcy5lcnJvcn0+Rmlyc3QgbGluZSBub3QgZm91bmQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgbmFtZT1cImVkaXRcIiBvbkNsaWNrPXsoKTogdm9pZCA9PiBzZXRFZGl0TW9kZSh0cnVlKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0RmlsbGVkIC8+IEVkaXQgZmlyc3QgbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImxpbmUxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHc9XCJ3LW1pblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlPy5hZGRyZXNzTGluZTF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2NyZWF0ZUFkZHJlc3NDaGFuZ2VIYW5kbGVyKCdhZGRyZXNzTGluZTEnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9eygpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmx1ckhhbmRsZXIoJ2FkZHJlc3NMaW5lMScpKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldEVkaXRNb2RlKCEhcmVzdD8udmFsdWU/LmFkZHJlc3NMaW5lMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U9e2NyZWF0ZUdldEVycm9yTWVzc2FnZSgnYWRkcmVzc0xpbmUxJywgdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHt2YWx1ZT8uYWRkcmVzc0xpbmUxICYmIDxkaXY+e3ZhbHVlPy5hZGRyZXNzTGluZTJ9PC9kaXY+fVxuICAgICAgICAgICAgICAgIHt2YWx1ZT8uYWRkcmVzc0xpbmUzICYmIDxkaXY+e3ZhbHVlPy5hZGRyZXNzTGluZTN9PC9kaXY+fVxuICAgICAgICAgICAgICAgIDxkaXY+e3ZhbHVlPy5jaXR5fTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+e3ZhbHVlPy5wb3N0Q29kZX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJBbGxFZGl0YWJsZSA9ICgpOiBKU1guRWxlbWVudCA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IHR3PVwiZ3JpZCBsZzpncmlkLWNvbHMtMiBncmlkLWNvbHVtbi1nYXBbMTZweF0gZ3JpZC1yb3ctZ2FwWzE2cHhdIHB5LTJcIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJsaW5lMVwiXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KCdBZGRyZXNzIGxpbmUgMScpfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZT8uYWRkcmVzc0xpbmUxfVxuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U9e2NyZWF0ZUdldEVycm9yTWVzc2FnZSgnYWRkcmVzc0xpbmUxJywgdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cj17Y3JlYXRlQmx1ckhhbmRsZXIoJ2FkZHJlc3NMaW5lMScpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Y3JlYXRlQWRkcmVzc0NoYW5nZUhhbmRsZXIoJ2FkZHJlc3NMaW5lMScpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJsaW5lMlwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KCdBZGRyZXNzIGxpbmUgMicpfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZT8uYWRkcmVzc0xpbmUyfVxuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U9e2NyZWF0ZUdldEVycm9yTWVzc2FnZSgnYWRkcmVzc0xpbmUyJywgZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e2NyZWF0ZUJsdXJIYW5kbGVyKCdhZGRyZXNzTGluZTInKX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2NyZWF0ZUFkZHJlc3NDaGFuZ2VIYW5kbGVyKCdhZGRyZXNzTGluZTInKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwibGluZTJcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17dCgnQWRkcmVzcyBsaW5lIDMnKX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWU/LmFkZHJlc3NMaW5lM31cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlPXtjcmVhdGVHZXRFcnJvck1lc3NhZ2UoJ2FkZHJlc3NMaW5lMycsIGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXtjcmVhdGVCbHVySGFuZGxlcignYWRkcmVzc0xpbmUzJyl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtjcmVhdGVBZGRyZXNzQ2hhbmdlSGFuZGxlcignYWRkcmVzc0xpbmUzJyl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNpdHlcIlxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17dCgnQ2l0eScpfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZT8uY2l0eX1cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlPXtjcmVhdGVHZXRFcnJvck1lc3NhZ2UoJ2NpdHknLCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXtjcmVhdGVCbHVySGFuZGxlcignY2l0eScpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Y3JlYXRlQWRkcmVzc0NoYW5nZUhhbmRsZXIoJ2NpdHknKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNvdW50cnlcIlxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17dCgnQ291bnRyeScpfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtjb3VudHJ5T3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlPy5jb3VudHJ5fVxuICAgICAgICAgICAgICAgICAgICBzaG93U2VhcmNoPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U9e2NyZWF0ZUdldEVycm9yTWVzc2FnZSgnY291bnRyeScsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e2NyZWF0ZUJsdXJIYW5kbGVyKCdjb3VudHJ5Jyl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDb3VudHJ5Q2hhbmdlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJwb3N0Q29kZVwiXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KCdQb3N0Y29kZScpfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZT8ucG9zdENvZGV9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZT17Y3JlYXRlR2V0RXJyb3JNZXNzYWdlKCdwb3N0Q29kZScsIHRydWUpfVxuICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e2NyZWF0ZUJsdXJIYW5kbGVyKCdwb3N0Q29kZScpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Y3JlYXRlQWRkcmVzc0NoYW5nZUhhbmRsZXIoJ3Bvc3RDb2RlJyl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAge21vZGUgPT09ICdvbmVMaW5lRWRpdGFibGUnID8gKFxuICAgICAgICAgICAgICAgIHNob3dDb2xsYXBzZVBhbmVsID8gKFxuICAgICAgICAgICAgICAgICAgICA8U2ltcGxlQ29sbGFwc2UgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGxhYmVsPXs8c3BhbiB0dz1cImZvbnQtbm9ybWFsXCI+IEVkaXQgZGVsaXZlcnkgYWRkcmVzczwvc3Bhbj59PlxuICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlck9uZUxpbmVFZGl0YWJsZSgpfVxuICAgICAgICAgICAgICAgICAgICA8L1NpbXBsZUNvbGxhcHNlPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlck9uZUxpbmVFZGl0YWJsZSgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSA6IHNob3dDb2xsYXBzZVBhbmVsID8gKFxuICAgICAgICAgICAgICAgIDxTaW1wbGVDb2xsYXBzZSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbGFiZWw9ezxzcGFuIHR3PVwiZm9udC1ub3JtYWxcIj4gRWRpdCBiaWxsaW5nIGFkZHJlc3M8L3NwYW4+fT5cbiAgICAgICAgICAgICAgICAgICAge3JlbmRlckFsbEVkaXRhYmxlKCl9XG4gICAgICAgICAgICAgICAgPC9TaW1wbGVDb2xsYXBzZT5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgcmVuZGVyQWxsRWRpdGFibGUoKVxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgKTtcbn07XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBlcnJvcjogY3NzYFxuICAgICAgICBjb2xvcjogcmVkO1xuICAgIGAsXG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVCaWxsaW5nQWRkcmVzcyA9ICh2YWw6IElJbnB1dExvcWF0ZVZhbHVlKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gIXZhbC5hZGRyZXNzTGluZTEgfHwgIXZhbC5jaXR5IHx8ICF2YWwucG9zdENvZGUgfHwgIXZhbC5jb3VudHJ5ID8gQ09OU1QudGhpc0ZpZWxkUmVxdWlyZWQgOiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlU2hpcHBpbmdBZGRyZXNzID0gKHZhbDogSUlucHV0TG9xYXRlVmFsdWUpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICAgIHJldHVybiAhdmFsLmFkZHJlc3NMaW5lMSA/IENPTlNULnRoaXNGaWVsZFJlcXVpcmVkIDogdW5kZWZpbmVkO1xufTtcbiJdfQ== */\",\n    toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n  }\n};\nvar validateBillingAddress = function validateBillingAddress(val) {\n  return !val.addressLine1 || !val.city || !val.postCode || !val.country ? CONST.thisFieldRequired : undefined;\n};\nvar validateShippingAddress = function validateShippingAddress(val) {\n  return !val.addressLine1 ? CONST.thisFieldRequired : undefined;\n};\nexport { Address, validateBillingAddress, validateShippingAddress };","map":{"version":3,"sources":["../../../../src/general-ui/address/address.component.tsx"],"names":["Address","className","showCollapsePanel","_ref$mode","mode","rest","value","setValue","useState","defaultValue","_useState2","blur","setBlur","addressLine1","addressLine2","addressLine3","city","country","label","originalLabel","postCode","_useState4","isEditMode","setEditMode","_useState6","useEffect","getInputLoqateLabel","createAddressChangeHandler","useCallback","propertyName","e","val","newValue","target","onChange","name","createBlurHandler","prev","handleCountryChange","createGetErrorMessage","required","undefined","CONST","thisFieldRequired","countryOptions","useMemo","Countries","map","c","renderOneLineEditable","css","___EmotionJSX","styles","error","Link","onClick","EditFilled","Input","type","onBlur","errorMessage","renderAllEditable","t","Select","options","showSearch","allowClear","SimpleCollapse","validateBillingAddress","validateShippingAddress"],"mappings":";;;;;;;;;;;;;;;;AAWyE,IAAA,KAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA;EAAA,IAAA,EAAA,SAAA;EAAA,MAAA,EAAA;AAAA,CAAA,GAAA;EAAA,IAAA,EAAA,6BAAA;EAAA,MAAA,EAAA,uEAAA;EAAA,QAAA,EAAA;AAAA,CAAA;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA;EAAA,IAAA,EAAA,OAAA;EAAA,MAAA,EAAA;AAAA,CAAA,GAAA;EAAA,IAAA,EAAA,8BAAA;EAAA,MAAA,EAAA,2CAAA;EAAA,QAAA,EAAA;AAAA,CAAA;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA;EAAA,IAAA,EAAA,QAAA;EAAA,MAAA,EAAA;AAAA,CAAA,GAAA;EAAA,IAAA,EAAA,+BAAA;EAAA,MAAA,EAAA,gDAAA;EAAA,QAAA,EAAA;AAAA,CAAA;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA;EAAA,IAAA,EAAA,QAAA;EAAA,MAAA,EAAA;AAAA,CAAA,GAAA;EAAA,IAAA,EAAA,2BAAA;EAAA,MAAA,EAAA,oMAAA;EAAA,QAAA,EAAA;AAAA,CAAA;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA;EAAA,IAAA,EAAA,QAAA;EAAA,MAAA,EAAA;AAAA,CAAA,GAAA;EAAA,IAAA,EAAA,gBAAA;EAAA,MAAA,EAAA,gCAAA;EAAA,QAAA,EAAA;AAAA,CAAA;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA;EAAA,IAAA,EAAA,QAAA;EAAA,MAAA,EAAA;AAAA,CAAA,GAAA;EAAA,IAAA,EAAA,gBAAA;EAAA,MAAA,EAAA,gCAAA;EAAA,QAAA,EAAA;AAAA,CAAA;AAY5DA,IAAAA,OAAO,GAAG,SAAVA,OAAO,CAAwG,IAAA,EAAA;EAAA,IAAlGC,SAAS,GAAA,IAAA,CAATA,SAAS;IAAEC,iBAAiBC,GAAAA,IAAAA,CAAjBD,iBAAiBC;IAAAA,SAAAA,GAAAA,IAAAA,CAAEC,IAAI;IAAJA,IAAI,GAAA,SAAA,KAAA,KAAA,CAAA,GAAG,iBAAiB,GAAA,SAAA;IAAKC,IAAI,GAAA,wBAAA,CAAA,IAAA,EAAA,SAAA,CAAA;EACrF,IAA0BG,SAAAA,GAAAA,QAAQ,CAAgCH,IAAI,CAACI,YAAY,IAAIJ,IAAI,CAACC,KAAK,CAACI;IAAAA,UAAAA,GAAAA,cAAAA,CAAAA,SAAAA,EAAAA,CAAAA,CAAAA;IAA3FJ,KAAK,GAAA,UAAA,CAAA,CAAA,CAAA;IAAEC,QAAQ,GAAA,UAAA,CAAA,CAAA,CAAA;EACtB,IAAA,UAAA,GAAwBC,QAAQ,CAAgD;MAC5EK,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE,KAAK;MACnBC,IAAI,EAAE,KAAK;MACXC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE,KAAK;MACZC,aAAa,EAAE,KAAK;MACpBC,QAAQ,EAAE;IACd,CAAC,CAACC;IAAAA,UAAAA,GAAAA,cAAAA,CAAAA,UAAAA,EAAAA,CAAAA,CAAAA;IATKV,IAAI,GAAA,UAAA,CAAA,CAAA,CAAA;IAAEC,OAAO,GAAA,UAAA,CAAA,CAAA,CAAA;EAUpB,IAAkCJ,UAAAA,GAAAA,QAAQ,CAAC,KAAK,CAACgB;IAAAA,UAAAA,GAAAA,cAAAA,CAAAA,UAAAA,EAAAA,CAAAA,CAAAA;IAA1CF,UAAU,GAAA,UAAA,CAAA,CAAA,CAAA;IAAEC,WAAW,GAAA,UAAA,CAAA,CAAA,CAAA;EAE9BE,SAAS,CAAC,YAAM;IACZ,IAAIpB,IAAI,CAACC,KAAK,EAAE;MACZC,QAAQ,CAAA,cAAA,CAAA,cAAA,CAAA,CAAA,CAAA,EACDF,IAAI,CAACC,KAAK,CAAA,EAAA,CAAA,CAAA,EAAA;QACbY,KAAK,EAAEQ,mBAAmB,CAACrB,IAAI,CAACC,KAAK,CAAC;QACtCa,aAAa,EAAEO,mBAAmB,CAACrB,IAAI,CAACC,KAAK;MAC/C,CAAA,CAAA,CAAA;IACN;EACJ,CAAC,EAAE,CAACD,IAAI,CAACC,KAAK,CAAC,CAAC;EAEhB,IAAMqB,0BAA0B,GAAGC,WAAW,CAC1C,UAACC,YAAqC,EAAK;IACvC,OAAO,UAACC,CAAsC,EAAW;MACrDvB,QAAQ,CAAC,UAACwB,GAAkC,EAAwB;QAChE,IAAMC,QAAQ,GACPD,cAAAA,CAAAA,cAAAA,CAAAA,CAAAA,CAAAA,EAAAA,GAAG,CACLF,EAAAA,CAAAA,CAAAA,EAAAA,eAAAA,CAAAA,CAAAA,CAAAA,EAAAA,YAAY,EAAGC,CAAC,CAACG,MAAM,CAAC3B,KAAK,CACZ,CAAA;QACtB0B,QAAQ,CAACd,KAAK,GAAGQ,mBAAmB,CAACM,QAAQ,CAAC;QAC9CA,QAAQ,CAACb,aAAa,GAAGO,mBAAmB,CAACM,QAAQ,CAAC;QACtD3B,IAAI,CAAC6B,QAAQ,IAAI7B,IAAI,CAAC6B,QAAQ,CAAC;UAAEC,IAAI,EAAE9B,IAAI,CAAC8B,IAAI;UAAE7B,KAAK,EAAE0B;QAAS,CAAC,CAAC;QACpE,OAAOA,QAAQ;MACnB,CAAC,CAAC;KACL;EACL,CAAC,EACD,CAAC3B,IAAI,CAAC,CACT;EAED,IAAM+B,iBAAiB,GAAGR,WAAW,CACjC,UAACC,YAAqC,EAAA;IAAA,OAAK,YAAY;MACnDjB,OAAO,CAAC,UAACyB,IAAI,EAAK;QACd,OAAA,cAAA,CAAA,cAAA,CAAA,CAAA,CAAA,EACOA,IAAI,CAAA,EAAA,CAAA,CAAA,EAAA,eAAA,CAAA,CAAA,CAAA,EACNR,YAAY,EAAG,IAAI,CAAA,CAAA;MAE5B,CAAC,CAAC;KACL;EAAA,CAAA,EACD,EAAE,CACL;EAED,IAAMS,mBAAmB,GAAGV,WAAW,CACnC,UAACE,CAAC,EAAK;IACHvB,QAAQ,CAAC,UAACwB,GAAkC,EAAwB;MAChE,IAAMC,QAAQ,GAAA,cAAA,CAAA,cAAA,CAAA,CAAA,CAAA,EACPD,GAAG,CAAA,EAAA,CAAA,CAAA,EAAA;QACNd,OAAO,EAAEa,CAAC,CAACxB;OACO,CAAA;MACtB0B,QAAQ,CAACd,KAAK,GAAGQ,mBAAmB,CAACM,QAAQ,CAAC;MAC9CA,QAAQ,CAACb,aAAa,GAAGO,mBAAmB,CAACM,QAAQ,CAAC;MACtD3B,IAAI,CAAC6B,QAAQ,IAAI7B,IAAI,CAAC6B,QAAQ,CAAC;QAAEC,IAAI,EAAE9B,IAAI,CAAC8B,IAAI;QAAE7B,KAAK,EAAE0B;MAAS,CAAC,CAAC;MACpE,OAAOA,QAAQ;IACnB,CAAC,CAAC;EACL,CAAA,EACD,CAAC3B,IAAI,CAAC8B,IAAI,EAAE9B,IAAI,CAAC6B,QAAQ,CAAC,CAC7B;EAED,IAAMK,qBAAqB,GAAG,SAAxBA,qBAAqB,CAAIV,YAAqC,EAAEW,QAAiB,EAAyB;IAC5G,IAAMT,GAAG,GAAGzB,KAAK,GAAGA,KAAK,CAACuB,YAAY,CAAC,GAAGY,SAAS;IACnD,IAAI,CAAC9B,IAAI,CAACkB,YAAY,CAAC,EAAE;MACrB;IACJ;IACA,IAAIW,QAAQ,IAAI,CAACT,GAAG,EAAE;MAClB,OAAOW,KAAK,CAACC,iBAAiB;IAClC;IACA,OAAOF,SAAS;GACnB;EAED,IAAMG,cAAc,GAAGC,OAAO,CAAC,YAAM;IACjC,OAAOC,SAAS,CAACC,GAAG,CAAC,UAACC,CAAC,EAAK;MACxB,OAAO;QACH9B,KAAK,EAAE8B,CAAC,CAACb,IAAI;QACb7B,KAAK,EAAE0C,CAAC,CAAC,SAAS;OACrB;IACL,CAAC,CAAC;EACL,CAAA,EAAE,EAAE,CAAC;EAEN,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqB,GAAsB;IAC7C,OACIC,GAAAA,CAAAA,KAAAA,EAAAA;MAAAA,GAAAA,EAAAA;KACI,EAAA,GAAA,CAAA,KAAA,EAAA;MAAA,GAAA,EAAA;IAAA,CAAA,EACK,EAAC5C,KAAK,KAALA,IAAAA,IAAAA,KAAK,KAALA,KAAAA,CAAAA,IAAAA,KAAK,CAAEO,YAAY,CAAI,IAAA,CAACS,UAAU,GAChC6B,GACI,CAAA,KAAA,EAAA,IAAA,EAAA,GAAA,CAAA,MAAA,EAAA;MAAMD,GAAG,EAAEE,MAAM,CAACC;KAAkC,EAAA,sBAAA,CAAA,EACpDF,GAAAA,CAACG,IAAI,EAAA;MAACnB,IAAI,EAAC,MAAM;MAACoB,OAAO,EAAE,SAAA,OAAA,GAAA;QAAA,OAAYhC,WAAW,CAAC,IAAI,CAAC;MAAA;IAAC,CAAA,EACrD4B,GAAAA,CAACK,UAAU,EAAA,IAAA,CAAG,EAAA,kBAAA,CACX,CACL,GAENL,GAAAA,CAACM,KAAK,EAAA;MACFtB,IAAI,EAAC,OAAO;MACZuB,IAAI,EAAC,MAAMR;MAAAA,GAAAA,EAAAA,KAAAA;MAEX5C,KAAK,EAAEA,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEO,YAAa;MAC3BqB,QAAQ,EAAEP,0BAA0B,CAAC,cAAc,CAAE;MACrDgC,MAAM,EAAE,SAAYA,MAAAA,GAAAA;QAChBvB,iBAAiB,CAAC,cAAc,CAAC,EAAE;QACnC;MACF,CAAA;;MACFwB,YAAY,EAAErB,qBAAqB,CAAC,cAAc,EAAE,IAAI;KAE/D,CAAA,CACC,EACL,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE1B,YAAY,KAAIsC,GAAM7C,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,KAAK,KAALA,IAAAA,IAAAA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEQ,YAAY,CAAO,EACvD,CAAA,KAAK,KAAL,IAAA,IAAA,KAAK,KAAL,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,KAAK,CAAEC,YAAY,KAAIoC,GAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAM7C,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAES,YAAY,CAAO,EACxDoC,GAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAM7C,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAEU,IAAI,CAAO,EACxBmC,GAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAM7C,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAEc,QAAQ,CAAO,CAC1B;GAEb;EAED,IAAMyC,iBAAiB,GAAG,SAApBA,iBAAiB,GAAsB;IACzC,OACIX,GAAAA,CAAAA,KAAAA,EAAAA;MAAAA,GAAAA,EAAAA,KAAAA;MAA4EjD,SAAS,EAAEA;IAAU,CAAA,EAC7FkD,GAAAA,CAACM,KAAK,EAAA;MACFtB,IAAI,EAAC,OAAO;MACZK,QAAQ,EAAA,IAAA;MACRtB,KAAK,EAAE4C,CAAC,CAAC,gBAAgB,CAAE;MAC3BJ,IAAI,EAAC,MAAM;MACXpD,KAAK,EAAEA,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEO,YAAa;MAC3B+C,YAAY,EAAErB,qBAAqB,CAAC,cAAc,EAAE,IAAI,CAAE;MAC1DoB,MAAM,EAAEvB,iBAAiB,CAAC,cAAc,CAAE;MAC1CF,QAAQ,EAAEP,0BAA0B,CAAC,cAAc;KACrD,CAAA,EACFwB,GAAAA,CAACM,KAAK,EAAA;MACFtB,IAAI,EAAC,OAAO;MACZjB,KAAK,EAAE4C,CAAC,CAAC,gBAAgB,CAAE;MAC3BJ,IAAI,EAAC,MAAM;MACXpD,KAAK,EAAEA,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEQ,YAAa;MAC3B8C,YAAY,EAAErB,qBAAqB,CAAC,cAAc,EAAE,KAAK,CAAE;MAC3DoB,MAAM,EAAEvB,iBAAiB,CAAC,cAAc,CAAE;MAC1CF,QAAQ,EAAEP,0BAA0B,CAAC,cAAc;KACrD,CAAA,EACFwB,GAAAA,CAACM,KAAK,EAAA;MACFtB,IAAI,EAAC,OAAO;MACZjB,KAAK,EAAE4C,CAAC,CAAC,gBAAgB,CAAE;MAC3BJ,IAAI,EAAC,MAAM;MACXpD,KAAK,EAAEA,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAES,YAAa;MAC3B6C,YAAY,EAAErB,qBAAqB,CAAC,cAAc,EAAE,KAAK,CAAE;MAC3DoB,MAAM,EAAEvB,iBAAiB,CAAC,cAAc,CAAE;MAC1CF,QAAQ,EAAEP,0BAA0B,CAAC,cAAc;KACrD,CAAA,EACFwB,GAAAA,CAACM,KAAK,EAAA;MACFtB,IAAI,EAAC,MAAM;MACXK,QAAQ,EAAA,IAAA;MACRtB,KAAK,EAAE4C,CAAC,CAAC,MAAM,CAAE;MACjBJ,IAAI,EAAC,MAAM;MACXpD,KAAK,EAAEA,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEU,IAAK;MACnB4C,YAAY,EAAErB,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAE;MAClDoB,MAAM,EAAEvB,iBAAiB,CAAC,MAAM,CAAE;MAClCF,QAAQ,EAAEP,0BAA0B,CAAC,MAAM;KAC7C,CAAA,EACFwB,GAAAA,CAACY,MAAM,EAAA;MACH5B,IAAI,EAAC,SAAS;MACdK,QAAQ,EAAA,IAAA;MACRtB,KAAK,EAAE4C,CAAC,CAAC,SAAS,CAAE;MACpBE,OAAO,EAAEpB,cAAe;MACxBtC,KAAK,EAAEA,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEW,OAAQ;MACtBgD,UAAU,EAAE,IAAK;MACjBC,UAAU,EAAE,IAAK;MACjBN,YAAY,EAAErB,qBAAqB,CAAC,SAAS,EAAE,IAAI,CAAE;MACrDoB,MAAM,EAAEvB,iBAAiB,CAAC,SAAS,CAAE;MACrCF,QAAQ,EAAEI;KACZ,CAAA,EACFa,GAAAA,CAACM,KAAK,EAAA;MACFtB,IAAI,EAAC,UAAU;MACfK,QAAQ,EAAA,IAAA;MACRtB,KAAK,EAAE4C,CAAC,CAAC,UAAU,CAAE;MACrBJ,IAAI,EAAC,MAAM;MACXpD,KAAK,EAAEA,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAEc,QAAS;MACvBwC,YAAY,EAAErB,qBAAqB,CAAC,UAAU,EAAE,IAAI,CAAE;MACtDoB,MAAM,EAAEvB,iBAAiB,CAAC,UAAU,CAAE;MACtCF,QAAQ,EAAEP,0BAA0B,CAAC,UAAU;IAAE,CAAA,CACnD,CACA;GAEb;EAED,OACIwB,GAAAA,CAAAA,KAAAA,CAAAA,QAAAA,EAAAA,IAAAA,EACK/C,IAAI,KAAK,iBAAiB,GACvBF,iBAAiB,GACbiD,GAAAA,CAACgB,cAAc,EAAA;IAAClE,SAAS,EAAEA,SAAU;IAACiB,KAAK,EAAE,GAAA,CAAA,MAAA,EAAA;MAAA,GAAA,EAAA;IAAA,CAAA,EAAA,wBAAA;GACxC+B,EAAAA,qBAAqB,EAAE,CACX,GAEjBA,qBAAqB,EACxB,GACD/C,iBAAiB,GACjBiD,GAAAA,CAACgB,cAAc,EAAA;IAAClE,SAAS,EAAEA,SAAU;IAACiB,KAAK,EAAE,GAAA,CAAA,MAAA,EAAA;MAAA,GAAA,EAAA;IAAA,CAAA,EAAA,uBAAA;EAAoD,CAAA,EAC5F2C,iBAAiB,EAAE,CACP,GAEjBA,iBAAiB,EACpB,CACF;AAEX,CAAC;AAED,IAAMT,MAAM,GAAG;EACXC,KAAK,EAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA;IAAA,IAAA,EAAA,QAAA;IAAA,MAAA,EAAA;EAAA,CAAA,GAAA;IAAA,IAAA,EAAA,cAAA;IAAA,MAAA,EAAA,wBAAA;IAAA,GAAA,EAAA,6+aAAA;IAAA,QAAA,EAAA;EAAA;AAGT,CAAC;IAEYe,sBAAsB,GAAG,SAAzBA,sBAAsB,CAAIrC,GAAsB,EAAyB;EAClF,OAAO,CAACA,GAAG,CAAClB,YAAY,IAAI,CAACkB,GAAG,CAACf,IAAI,IAAI,CAACe,GAAG,CAACX,QAAQ,IAAI,CAACW,GAAG,CAACd,OAAO,GAAGyB,KAAK,CAACC,iBAAiB,GAAGF,SAAS;AAChH,CAAC;IACY4B,uBAAuB,GAAG,SAA1BA,uBAAuB,CAAItC,GAAsB,EAAyB;EACnF,OAAO,CAACA,GAAG,CAAClB,YAAY,GAAG6B,KAAK,CAACC,iBAAiB,GAAGF,SAAS;AAClE,CAAA","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EditFilled } from '@ant-design/icons';\nimport { CONST } from '@common/constants/const.constant';\nimport { Countries } from '@common/constants/countries.constant';\nimport { IFieldProps } from '@common/general-ui/field/field.component';\nimport { getInputLoqateLabel, IInputLoqateValue } from '@common/general-ui/input-loqate/input-loqate.component';\nimport { Input } from '@common/general-ui/input/input.component';\nimport { Link } from '@common/general-ui/link/link.component';\nimport { ISelectChangeHandler, Select } from '@common/general-ui/select/select.component';\nimport { SimpleCollapse } from '@common/general-ui/simple-collapse/simple-collapse.component';\nimport { t } from '@common/hooks/use-t.hook';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { css } from 'twin.macro';\n\nexport type IAddressChangeHandler = (arg: { name: string; value: IInputLoqateValue }) => void;\nexport interface IAddressProps<TName = string> extends IFieldProps<IInputLoqateValue, TName> {\n    className?: string;\n    onChange?: IAddressChangeHandler;\n    onBlur?: (e: React.FocusEvent) => void;\n    mode?: 'oneLineEditable' | 'allEditable';\n    showCollapsePanel?: boolean;\n}\n\nexport const Address = ({ className, showCollapsePanel, mode = 'oneLineEditable', ...rest }: IAddressProps): JSX.Element => {\n    const [value, setValue] = useState<IInputLoqateValue | undefined>(rest.defaultValue || rest.value);\n    const [blur, setBlur] = useState<{ [key in keyof IInputLoqateValue]: boolean }>({\n        addressLine1: false,\n        addressLine2: false,\n        addressLine3: false,\n        city: false,\n        country: false,\n        label: false,\n        originalLabel: false,\n        postCode: false,\n    });\n    const [isEditMode, setEditMode] = useState(false);\n\n    useEffect(() => {\n        if (rest.value) {\n            setValue({\n                ...rest.value,\n                label: getInputLoqateLabel(rest.value),\n                originalLabel: getInputLoqateLabel(rest.value),\n            });\n        }\n    }, [rest.value]);\n\n    const createAddressChangeHandler = useCallback(\n        (propertyName: keyof IInputLoqateValue) => {\n            return (e: React.ChangeEvent<HTMLInputElement>): void => {\n                setValue((val: IInputLoqateValue | undefined): IInputLoqateValue => {\n                    const newValue = {\n                        ...val,\n                        [propertyName]: e.target.value,\n                    } as IInputLoqateValue;\n                    newValue.label = getInputLoqateLabel(newValue);\n                    newValue.originalLabel = getInputLoqateLabel(newValue);\n                    rest.onChange && rest.onChange({ name: rest.name, value: newValue });\n                    return newValue;\n                });\n            };\n        },\n        [rest],\n    );\n\n    const createBlurHandler = useCallback(\n        (propertyName: keyof IInputLoqateValue) => (): void => {\n            setBlur((prev) => {\n                return {\n                    ...prev,\n                    [propertyName]: true,\n                };\n            });\n        },\n        [],\n    );\n\n    const handleCountryChange = useCallback<ISelectChangeHandler>(\n        (e) => {\n            setValue((val: IInputLoqateValue | undefined): IInputLoqateValue => {\n                const newValue = {\n                    ...val,\n                    country: e.value,\n                } as IInputLoqateValue;\n                newValue.label = getInputLoqateLabel(newValue);\n                newValue.originalLabel = getInputLoqateLabel(newValue);\n                rest.onChange && rest.onChange({ name: rest.name, value: newValue });\n                return newValue;\n            });\n        },\n        [rest.name, rest.onChange],\n    );\n\n    const createGetErrorMessage = (propertyName: keyof IInputLoqateValue, required: boolean): string | undefined => {\n        const val = value ? value[propertyName] : undefined;\n        if (!blur[propertyName]) {\n            return;\n        }\n        if (required && !val) {\n            return CONST.thisFieldRequired;\n        }\n        return undefined;\n    };\n\n    const countryOptions = useMemo(() => {\n        return Countries.map((c) => {\n            return {\n                label: c.name,\n                value: c['alpha-2'],\n            };\n        });\n    }, []);\n\n    const renderOneLineEditable = (): JSX.Element => {\n        return (\n            <div tw=\"py-2\">\n                <div tw=\"flex\">\n                    {!value?.addressLine1 && !isEditMode ? (\n                        <div>\n                            <span css={styles.error}>First line not found</span>\n                            <Link name=\"edit\" onClick={(): void => setEditMode(true)}>\n                                <EditFilled /> Edit first line\n                            </Link>\n                        </div>\n                    ) : (\n                        <Input\n                            name=\"line1\"\n                            type=\"text\"\n                            tw=\"w-min\"\n                            value={value?.addressLine1}\n                            onChange={createAddressChangeHandler('addressLine1')}\n                            onBlur={(): void => {\n                                createBlurHandler('addressLine1')();\n                                // setEditMode(!!rest?.value?.addressLine1);\n                            }}\n                            errorMessage={createGetErrorMessage('addressLine1', true)}\n                        />\n                    )}\n                </div>\n                {value?.addressLine1 && <div>{value?.addressLine2}</div>}\n                {value?.addressLine3 && <div>{value?.addressLine3}</div>}\n                <div>{value?.city}</div>\n                <div>{value?.postCode}</div>\n            </div>\n        );\n    };\n\n    const renderAllEditable = (): JSX.Element => {\n        return (\n            <div tw=\"grid lg:grid-cols-2 grid-column-gap[16px] grid-row-gap[16px] py-2\" className={className}>\n                <Input\n                    name=\"line1\"\n                    required\n                    label={t('Address line 1')}\n                    type=\"text\"\n                    value={value?.addressLine1}\n                    errorMessage={createGetErrorMessage('addressLine1', true)}\n                    onBlur={createBlurHandler('addressLine1')}\n                    onChange={createAddressChangeHandler('addressLine1')}\n                />\n                <Input\n                    name=\"line2\"\n                    label={t('Address line 2')}\n                    type=\"text\"\n                    value={value?.addressLine2}\n                    errorMessage={createGetErrorMessage('addressLine2', false)}\n                    onBlur={createBlurHandler('addressLine2')}\n                    onChange={createAddressChangeHandler('addressLine2')}\n                />\n                <Input\n                    name=\"line2\"\n                    label={t('Address line 3')}\n                    type=\"text\"\n                    value={value?.addressLine3}\n                    errorMessage={createGetErrorMessage('addressLine3', false)}\n                    onBlur={createBlurHandler('addressLine3')}\n                    onChange={createAddressChangeHandler('addressLine3')}\n                />\n                <Input\n                    name=\"city\"\n                    required\n                    label={t('City')}\n                    type=\"text\"\n                    value={value?.city}\n                    errorMessage={createGetErrorMessage('city', true)}\n                    onBlur={createBlurHandler('city')}\n                    onChange={createAddressChangeHandler('city')}\n                />\n                <Select\n                    name=\"country\"\n                    required\n                    label={t('Country')}\n                    options={countryOptions}\n                    value={value?.country}\n                    showSearch={true}\n                    allowClear={true}\n                    errorMessage={createGetErrorMessage('country', true)}\n                    onBlur={createBlurHandler('country')}\n                    onChange={handleCountryChange}\n                />\n                <Input\n                    name=\"postCode\"\n                    required\n                    label={t('Postcode')}\n                    type=\"text\"\n                    value={value?.postCode}\n                    errorMessage={createGetErrorMessage('postCode', true)}\n                    onBlur={createBlurHandler('postCode')}\n                    onChange={createAddressChangeHandler('postCode')}\n                />\n            </div>\n        );\n    };\n\n    return (\n        <>\n            {mode === 'oneLineEditable' ? (\n                showCollapsePanel ? (\n                    <SimpleCollapse className={className} label={<span tw=\"font-normal\"> Edit delivery address</span>}>\n                        {renderOneLineEditable()}\n                    </SimpleCollapse>\n                ) : (\n                    renderOneLineEditable()\n                )\n            ) : showCollapsePanel ? (\n                <SimpleCollapse className={className} label={<span tw=\"font-normal\"> Edit billing address</span>}>\n                    {renderAllEditable()}\n                </SimpleCollapse>\n            ) : (\n                renderAllEditable()\n            )}\n        </>\n    );\n};\n\nconst styles = {\n    error: css`\n        color: red;\n    `,\n};\n\nexport const validateBillingAddress = (val: IInputLoqateValue): string | undefined => {\n    return !val.addressLine1 || !val.city || !val.postCode || !val.country ? CONST.thisFieldRequired : undefined;\n};\nexport const validateShippingAddress = (val: IInputLoqateValue): string | undefined => {\n    return !val.addressLine1 ? CONST.thisFieldRequired : undefined;\n};\n"]},"metadata":{},"sourceType":"module"}