{"ast":null,"code":"import { slicedToArray as _slicedToArray, extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { jsx, Global, css } from '@emotion/react';\nimport { CloseCircleOutlined } from '@ant-design/icons';\nimport { THEME } from '../../constants/theme.constant.js';\nimport { Field } from '../field/field.component.js';\nimport { Input } from '../input/input.component.js';\nimport { consoleService } from '../../services/console.service.js';\nimport { generateId } from '../../utils/generate-id.util.js';\nimport React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport ReactTestUtils from 'react-dom/test-utils';\nimport AddressSearch from 'react-loqate';\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() {\n  return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n}\nvar EMPTY = {\n  addressLine1: '',\n  addressLine2: '',\n  addressLine3: '',\n  country: '',\n  city: '',\n  postCode: '',\n  originalLabel: '',\n  label: ''\n};\nvar _ref = process.env.NODE_ENV === \"production\" ? {\n  name: \"1iufbs0\",\n  styles: \"position:absolute;right:0.5rem\"\n} : {\n  name: \"4c09vj-renderInput\",\n  styles: \"position:absolute;right:0.5rem;label:renderInput;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar _ref2 = process.env.NODE_ENV === \"production\" ? {\n  name: \"bjn8wh\",\n  styles: \"position:relative\"\n} : {\n  name: \"cl043w-InputLoqate\",\n  styles: \"position:relative;label:InputLoqate;\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar InputLoqate = function InputLoqate(props) {\n  var html_id = useMemo(function () {\n    return generateId('html_id');\n  }, []);\n  var onChange = props.onChange,\n    name = props.name,\n    placeholder = props.placeholder,\n    value = props.value,\n    errorMessage = props.errorMessage;\n  var _useState = useState(value),\n    _useState2 = _slicedToArray(_useState, 2),\n    address = _useState2[0],\n    setAddress = _useState2[1];\n  useEffect(function () {\n    setAddress(value);\n  }, [value]);\n  var handleClear = useCallback(function () {\n    setAddress(EMPTY);\n    var loqateInput = document.getElementById(html_id);\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (loqateInput) {\n      loqateInput.value = '';\n      ReactTestUtils.Simulate.change(loqateInput);\n    }\n    onChange && onChange({\n      name: name,\n      value: EMPTY\n    });\n  }, [html_id, name, onChange]);\n  var renderInput = useCallback(function (inputProps) {\n    return jsx(Input, _extends({\n      readOnly: props.readOnly,\n      label: props.label,\n      type: \"text\",\n      name: name,\n      placeholder: placeholder\n    }, inputProps, {\n      id: html_id,\n      required: props.required,\n      value: (address === null || address === void 0 ? void 0 : address.label) || inputProps.value,\n      suffix: props.readOnly ? jsx(React.Fragment, null) : jsx(CloseCircleOutlined, {\n        css: _ref,\n        onClick: handleClear\n      })\n    }));\n  }, [address === null || address === void 0 ? void 0 : address.label, handleClear, html_id, name, placeholder, props.label, props.readOnly, props.required]);\n  return jsx(Field, {\n    name: \"\".concat(name, \"-top\"),\n    errorMessage: errorMessage,\n    helperText: jsx(\"div\", null, props.helperText)\n  }, jsx(\"div\", {\n    css: _ref2\n  }, jsx(Global, {\n    styles: /*#__PURE__*/\n    /*#__PURE__*/\n    /*#__PURE__*/\n    /*#__PURE__*/\n    css(\".react-loqate-default-list{max-height:350px;overflow-y:auto;z-index:20;}.address-options{\", THEME.BOX_SHADOW_GRAY, \";li{background-color:\", THEME.WHITE, \";padding:5px 10px!important;}li:hover{background-color:\", THEME.GREEN, \";color:\", THEME.WHITE, \";cursor:pointer;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:InputLoqate;\"), process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LWxvcWF0ZS5jb21wb25lbnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJGK0IiLCJmaWxlIjoiaW5wdXQtbG9xYXRlLmNvbXBvbmVudC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5pbXBvcnQgeyBDbG9zZUNpcmNsZU91dGxpbmVkIH0gZnJvbSAnQGFudC1kZXNpZ24vaWNvbnMnO1xuaW1wb3J0IHsgVEhFTUUgfSBmcm9tICdAY29tbW9uL2NvbnN0YW50cy90aGVtZS5jb25zdGFudCc7XG5pbXBvcnQgeyBGaWVsZCwgSUZpZWxkUHJvcHMgfSBmcm9tICdAY29tbW9uL2dlbmVyYWwtdWkvZmllbGQvZmllbGQuY29tcG9uZW50JztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQGNvbW1vbi9nZW5lcmFsLXVpL2lucHV0L2lucHV0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBjb25zb2xlU2VydmljZSB9IGZyb20gJ0Bjb21tb24vc2VydmljZXMvY29uc29sZS5zZXJ2aWNlJztcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tICdAY29tbW9uL3V0aWxzL2dlbmVyYXRlLWlkLnV0aWwnO1xuaW1wb3J0IHsgR2xvYmFsIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0VGVzdFV0aWxzIGZyb20gJ3JlYWN0LWRvbS90ZXN0LXV0aWxzJztcbmltcG9ydCBBZGRyZXNzU2VhcmNoIGZyb20gJ3JlYWN0LWxvcWF0ZSc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICd0d2luLm1hY3JvJztcblxuZXhwb3J0IGludGVyZmFjZSBJSW5wdXRMb3FhdGVWYWx1ZSB7XG4gICAgYWRkcmVzc0xpbmUxOiBzdHJpbmc7XG4gICAgYWRkcmVzc0xpbmUyOiBzdHJpbmc7XG4gICAgYWRkcmVzc0xpbmUzOiBzdHJpbmc7XG4gICAgY2l0eTogc3RyaW5nO1xuICAgIHBvc3RDb2RlOiBzdHJpbmc7XG4gICAgb3JpZ2luYWxMYWJlbDogc3RyaW5nO1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgY291bnRyeTogc3RyaW5nO1xufVxuY29uc3QgRU1QVFk6IElJbnB1dExvcWF0ZVZhbHVlID0ge1xuICAgIGFkZHJlc3NMaW5lMTogJycsXG4gICAgYWRkcmVzc0xpbmUyOiAnJyxcbiAgICBhZGRyZXNzTGluZTM6ICcnLFxuICAgIGNvdW50cnk6ICcnLFxuICAgIGNpdHk6ICcnLFxuICAgIHBvc3RDb2RlOiAnJyxcbiAgICBvcmlnaW5hbExhYmVsOiAnJyxcbiAgICBsYWJlbDogJycsXG59O1xuZXhwb3J0IHR5cGUgSUlucHV0TG9xYXRlQ2hhbmdlSGFuZGxlciA9IChhcmc6IHsgbmFtZTogc3RyaW5nOyB2YWx1ZTogSUlucHV0TG9xYXRlVmFsdWUgfSkgPT4gdm9pZDtcbmV4cG9ydCBpbnRlcmZhY2UgSUlucHV0TG9xYXRlUHJvcHM8VE5hbWUgPSBzdHJpbmc+IGV4dGVuZHMgSUZpZWxkUHJvcHM8SUlucHV0TG9xYXRlVmFsdWUsIFROYW1lPiB7XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIG9uQ2hhbmdlPzogSUlucHV0TG9xYXRlQ2hhbmdlSGFuZGxlcjtcbiAgICBvbkJsdXI/OiAoZTogUmVhY3QuRm9jdXNFdmVudCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IElucHV0TG9xYXRlID0gKHByb3BzOiBJSW5wdXRMb3FhdGVQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcbiAgICBjb25zdCBodG1sX2lkID0gdXNlTWVtbygoKSA9PiBnZW5lcmF0ZUlkKCdodG1sX2lkJyksIFtdKTtcbiAgICBjb25zdCB7IG9uQ2hhbmdlLCBuYW1lLCBwbGFjZWhvbGRlciwgdmFsdWUsIGVycm9yTWVzc2FnZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2FkZHJlc3MsIHNldEFkZHJlc3NdID0gdXNlU3RhdGUodmFsdWUpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0QWRkcmVzcyh2YWx1ZSk7XG4gICAgfSwgW3ZhbHVlXSk7XG5cbiAgICBjb25zdCBoYW5kbGVDbGVhciA9IHVzZUNhbGxiYWNrKCgpOiB2b2lkID0+IHtcbiAgICAgICAgc2V0QWRkcmVzcyhFTVBUWSk7XG5cbiAgICAgICAgY29uc3QgbG9xYXRlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChodG1sX2lkKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGxvcWF0ZUlucHV0KSB7XG4gICAgICAgICAgICBsb3FhdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgUmVhY3RUZXN0VXRpbHMuU2ltdWxhdGUuY2hhbmdlKGxvcWF0ZUlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9uQ2hhbmdlICYmXG4gICAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogRU1QVFksXG4gICAgICAgICAgICB9KTtcbiAgICB9LCBbaHRtbF9pZCwgbmFtZSwgb25DaGFuZ2VdKTtcblxuICAgIGNvbnN0IHJlbmRlcklucHV0ID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChpbnB1dFByb3BzOiBhbnkpOiBKU1guRWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICByZWFkT25seT17cHJvcHMucmVhZE9ubHl9XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtwcm9wcy5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgIHsuLi5pbnB1dFByb3BzfVxuICAgICAgICAgICAgICAgICAgICBpZD17aHRtbF9pZH1cbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ9e3Byb3BzLnJlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YWRkcmVzcz8ubGFiZWwgfHwgaW5wdXRQcm9wcy52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgc3VmZml4PXtwcm9wcy5yZWFkT25seSA/IDw+PC8+IDogPENsb3NlQ2lyY2xlT3V0bGluZWQgdHc9XCJhYnNvbHV0ZSByaWdodC0yXCIgb25DbGljaz17aGFuZGxlQ2xlYXJ9IC8+fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBbYWRkcmVzcz8ubGFiZWwsIGhhbmRsZUNsZWFyLCBodG1sX2lkLCBuYW1lLCBwbGFjZWhvbGRlciwgcHJvcHMubGFiZWwsIHByb3BzLnJlYWRPbmx5LCBwcm9wcy5yZXF1aXJlZF0sXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxGaWVsZCBuYW1lPXtgJHtuYW1lfS10b3BgfSBlcnJvck1lc3NhZ2U9e2Vycm9yTWVzc2FnZX0gaGVscGVyVGV4dD17PGRpdj57cHJvcHMuaGVscGVyVGV4dH08L2Rpdj59PlxuICAgICAgICAgICAgPGRpdiB0dz1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgPEdsb2JhbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZXM9e2Nzc2BcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZWFjdC1sb3FhdGUtZGVmYXVsdC1saXN0IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAzNTBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDIwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkcmVzcy1vcHRpb25zIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke1RIRU1FLkJPWF9TSEFET1dfR1JBWX07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke1RIRU1FLldISVRFfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNXB4IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGk6aG92ZXIge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke1RIRU1FLkdSRUVOfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICR7VEhFTUUuV0hJVEV9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPEFkZHJlc3NTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZT1cImVuX0dCXCJcbiAgICAgICAgICAgICAgICAgICAgY291bnRyaWVzPXtbJ0dCJ119XG4gICAgICAgICAgICAgICAgICAgIGRlYm91bmNlPXszMDB9XG4gICAgICAgICAgICAgICAgICAgIGFwaUtleT17cHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX0xPUUFURV9BUElfS0VZIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAoYWRkcmVzczogYW55KTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZVNlcnZpY2UubG9nKCdhZGRyZXNzJywgYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJnOiBJSW5wdXRMb3FhdGVWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogYWRkcmVzcy5DaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzTGluZTE6IGFkZHJlc3MuTGluZTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NMaW5lMjogW2FkZHJlc3MuTGluZTIsIGFkZHJlc3MuTGluZTMsIGFkZHJlc3MuTGluZTQsIGFkZHJlc3MuTGluZTVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChmKSA9PiBmKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJy8nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc0xpbmUzOiBhZGRyZXNzLkxpbmUzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5OiBhZGRyZXNzLkNvdW50cnlJc28yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0Q29kZTogYWRkcmVzcy5Qb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcy5MaW5lMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthZGRyZXNzLkxpbmUyLCBhZGRyZXNzLkxpbmUzLCBhZGRyZXNzLkxpbmU0LCBhZGRyZXNzLkxpbmU1XS5maWx0ZXIoKGYpID0+IGYpLmpvaW4oJy8nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MuQ2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MuUG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZikgPT4gZilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbExhYmVsOiBhZGRyZXNzLkxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWRkcmVzcyhhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlICYmIG9uQ2hhbmdlKHsgbmFtZSwgdmFsdWU6IGFyZyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbbmFtZSwgb25DaGFuZ2VdLFxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzPXt1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXQ6IHJlbmRlcklucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSwgW3JlbmRlcklucHV0XSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3VzZU1lbW8oKCkgPT4gKHsgbGlzdDogJ2FkZHJlc3Mtb3B0aW9ucycgfSksIFtdKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvRmllbGQ+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbnB1dExvcWF0ZUxhYmVsID0gKGFkZHJlc3M6IElJbnB1dExvcWF0ZVZhbHVlKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCByZXMgPSBbXG4gICAgICAgIGFkZHJlc3MuYWRkcmVzc0xpbmUxLFxuICAgICAgICBbYWRkcmVzcy5hZGRyZXNzTGluZTIsIGFkZHJlc3MuYWRkcmVzc0xpbmUzXS5maWx0ZXIoKGYpID0+IGYpLmpvaW4oJy8nKSxcbiAgICAgICAgYWRkcmVzcy5jaXR5LFxuICAgICAgICBhZGRyZXNzLnBvc3RDb2RlLFxuICAgIF1cbiAgICAgICAgLmZpbHRlcigoZikgPT4gZilcbiAgICAgICAgLmpvaW4oJywgJyk7XG4gICAgcmV0dXJuIHJlcztcbn07XG4iXX0= */\", process.env.NODE_ENV === \"production\" ? \"\" : \";label:InputLoqate;\", process.env.NODE_ENV === \"production\" ? \"\" : \";label:styles;\", process.env.NODE_ENV === \"production\" ? \"\" : \";label:styles;\")\n  }), jsx(AddressSearch, {\n    className: props.className,\n    locale: \"en_GB\",\n    countries: ['GB'],\n    debounce: 300,\n    apiKey: process.env.REACT_APP_LOQATE_API_KEY || '',\n    onSelect: useCallback(function (address) {\n      consoleService.log('address', address);\n      var arg = {\n        city: address.City,\n        addressLine1: address.Line1,\n        addressLine2: [address.Line2, address.Line3, address.Line4, address.Line5].filter(function (f) {\n          return f;\n        }).join('/'),\n        addressLine3: address.Line3,\n        country: address.CountryIso2,\n        postCode: address.PostalCode,\n        label: [address.Line1, [address.Line2, address.Line3, address.Line4, address.Line5].filter(function (f) {\n          return f;\n        }).join('/'), address.City, address.PostalCode].filter(function (f) {\n          return f;\n        }).join(', '),\n        originalLabel: address.Label\n      };\n      setAddress(arg);\n      onChange && onChange({\n        name: name,\n        value: arg\n      });\n    }, [name, onChange]),\n    components: useMemo(function () {\n      return {\n        Input: renderInput\n      };\n    }, [renderInput]),\n    classes: useMemo(function () {\n      return {\n        list: 'address-options'\n      };\n    }, [])\n  })));\n};\nvar getInputLoqateLabel = function getInputLoqateLabel(address) {\n  var res = [address.addressLine1, [address.addressLine2, address.addressLine3].filter(function (f) {\n    return f;\n  }).join('/'), address.city, address.postCode].filter(function (f) {\n    return f;\n  }).join(', ');\n  return res;\n};\nexport { InputLoqate, getInputLoqateLabel };","map":{"version":3,"sources":["../../../../src/general-ui/input-loqate/input-loqate.component.tsx"],"names":["EMPTY","addressLine1","addressLine2","addressLine3","country","city","postCode","originalLabel","label","InputLoqate","props","html_id","useMemo","generateId","onChange","name","placeholder","value","errorMessage","address","setAddress","useState","_useState2","useEffect","handleClear","useCallback","loqateInput","document","getElementById","ReactTestUtils","Simulate","change","renderInput","inputProps","___EmotionJSX","Input","readOnly","type","id","required","suffix","CloseCircleOutlined","css","onClick","Field","helperText","Global","styles","THEME","BOX_SHADOW_GRAY","WHITE","GREEN","AddressSearch","className","locale","countries","debounce","apiKey","process","env","REACT_APP_LOQATE_API_KEY","onSelect","consoleService","log","arg","City","Line1","Line2","Line3","Line4","Line5","filter","f","join","CountryIso2","PostalCode","Label","components","classes","list","getInputLoqateLabel","res"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { CloseCircleOutlined } from '@ant-design/icons';\nimport { THEME } from '@common/constants/theme.constant';\nimport { Field, IFieldProps } from '@common/general-ui/field/field.component';\nimport { Input } from '@common/general-ui/input/input.component';\nimport { consoleService } from '@common/services/console.service';\nimport { generateId } from '@common/utils/generate-id.util';\nimport { Global } from '@emotion/react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport ReactTestUtils from 'react-dom/test-utils';\nimport AddressSearch from 'react-loqate';\nimport { css } from 'twin.macro';\n\nexport interface IInputLoqateValue {\n    addressLine1: string;\n    addressLine2: string;\n    addressLine3: string;\n    city: string;\n    postCode: string;\n    originalLabel: string;\n    label: string;\n    country: string;\n}\nconst EMPTY: IInputLoqateValue = {\n    addressLine1: '',\n    addressLine2: '',\n    addressLine3: '',\n    country: '',\n    city: '',\n    postCode: '',\n    originalLabel: '',\n    label: '',\n};\nexport type IInputLoqateChangeHandler = (arg: { name: string; value: IInputLoqateValue }) => void;\nexport interface IInputLoqateProps<TName = string> extends IFieldProps<IInputLoqateValue, TName> {\n    className?: string;\n    onChange?: IInputLoqateChangeHandler;\n    onBlur?: (e: React.FocusEvent) => void;\n}\n\nexport const InputLoqate = (props: IInputLoqateProps): JSX.Element => {\n    const html_id = useMemo(() => generateId('html_id'), []);\n    const { onChange, name, placeholder, value, errorMessage } = props;\n    const [address, setAddress] = useState(value);\n\n    useEffect(() => {\n        setAddress(value);\n    }, [value]);\n\n    const handleClear = useCallback((): void => {\n        setAddress(EMPTY);\n\n        const loqateInput = document.getElementById(html_id) as HTMLInputElement;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        if (loqateInput) {\n            loqateInput.value = '';\n            ReactTestUtils.Simulate.change(loqateInput);\n        }\n\n        onChange &&\n            onChange({\n                name,\n                value: EMPTY,\n            });\n    }, [html_id, name, onChange]);\n\n    const renderInput = useCallback(\n        (inputProps: any): JSX.Element => {\n            return (\n                <Input\n                    readOnly={props.readOnly}\n                    label={props.label}\n                    type=\"text\"\n                    name={name}\n                    placeholder={placeholder}\n                    {...inputProps}\n                    id={html_id}\n                    required={props.required}\n                    value={address?.label || inputProps.value}\n                    suffix={props.readOnly ? <></> : <CloseCircleOutlined tw=\"absolute right-2\" onClick={handleClear} />}\n                />\n            );\n        },\n        [address?.label, handleClear, html_id, name, placeholder, props.label, props.readOnly, props.required],\n    );\n\n    return (\n        <Field name={`${name}-top`} errorMessage={errorMessage} helperText={<div>{props.helperText}</div>}>\n            <div tw=\"relative\">\n                <Global\n                    styles={css`\n                        .react-loqate-default-list {\n                            max-height: 350px;\n                            overflow-y: auto;\n                            z-index: 20;\n                        }\n\n                        .address-options {\n                            ${THEME.BOX_SHADOW_GRAY};\n                            li {\n                                background-color: ${THEME.WHITE};\n                                padding: 5px 10px !important;\n                            }\n                            li:hover {\n                                background-color: ${THEME.GREEN};\n                                color: ${THEME.WHITE};\n                                cursor: pointer;\n                            }\n                        }\n                    `}\n                />\n                <AddressSearch\n                    className={props.className}\n                    locale=\"en_GB\"\n                    countries={['GB']}\n                    debounce={300}\n                    apiKey={process.env.REACT_APP_LOQATE_API_KEY || ''}\n                    onSelect={useCallback(\n                        (address: any): void => {\n                            consoleService.log('address', address);\n                            const arg: IInputLoqateValue = {\n                                city: address.City,\n                                addressLine1: address.Line1,\n                                addressLine2: [address.Line2, address.Line3, address.Line4, address.Line5]\n                                    .filter((f) => f)\n                                    .join('/'),\n                                addressLine3: address.Line3,\n                                country: address.CountryIso2,\n                                postCode: address.PostalCode,\n                                label: [\n                                    address.Line1,\n                                    [address.Line2, address.Line3, address.Line4, address.Line5].filter((f) => f).join('/'),\n                                    address.City,\n                                    address.PostalCode,\n                                ]\n                                    .filter((f) => f)\n                                    .join(', '),\n                                originalLabel: address.Label,\n                            };\n                            setAddress(arg);\n                            onChange && onChange({ name, value: arg });\n                        },\n                        [name, onChange],\n                    )}\n                    components={useMemo(() => {\n                        return {\n                            Input: renderInput,\n                        };\n                    }, [renderInput])}\n                    classes={useMemo(() => ({ list: 'address-options' }), [])}\n                />\n            </div>\n        </Field>\n    );\n};\n\nexport const getInputLoqateLabel = (address: IInputLoqateValue): string => {\n    const res = [\n        address.addressLine1,\n        [address.addressLine2, address.addressLine3].filter((f) => f).join('/'),\n        address.city,\n        address.postCode,\n    ]\n        .filter((f) => f)\n        .join(', ');\n    return res;\n};\n"]},"metadata":{},"sourceType":"module"}