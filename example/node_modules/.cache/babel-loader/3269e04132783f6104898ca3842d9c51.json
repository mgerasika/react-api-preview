{"ast":null,"code":"import { objectSpread2 as _objectSpread2 } from '../_virtual/_rollupPluginBabelHelpers.js';\nvar pushToDataLayer = function pushToDataLayer(obj) {\n  window.dataLayer = window.dataLayer || [];\n  window.dataLayer.push(obj);\n};\nvar setUserData = function setUserData(userId) {\n  pushToDataLayer({\n    event: 'customUser',\n    userData: {\n      userId: userId\n    }\n  });\n};\nvar createPageEvent = function createPageEvent(path) {\n  var obj = {\n    event: 'customPage',\n    pageData: {\n      path: path\n    }\n  };\n  pushToDataLayer(obj);\n};\nvar createCheckoutEnhancedEcommerceEvent = function createCheckoutEnhancedEcommerceEvent(step, product) {\n  var nullObj = {\n    ecommerce: null\n  };\n  var obj = {\n    event: 'checkout',\n    ecommerce: {\n      checkout: _objectSpread2({\n        actionField: {\n          step: step\n        }\n      }, product && {\n        products: product\n      })\n    }\n  };\n  pushToDataLayer(nullObj); // Clear the previous ecommerce object.\n  pushToDataLayer(obj);\n};\nvar createPurchaseEnhancedEcommerceEvent = function createPurchaseEnhancedEcommerceEvent(revenue, id, shipping, coupon, product) {\n  var nullObj = {\n    ecommerce: null\n  };\n  var obj = {\n    event: 'purchase',\n    ecommerce: {\n      purchase: _objectSpread2({\n        actionField: {\n          id: id,\n          revenue: revenue,\n          shipping: shipping,\n          coupon: coupon\n        }\n      }, product && {\n        products: product\n      })\n    }\n  };\n  pushToDataLayer(nullObj);\n  pushToDataLayer(obj);\n};\nvar createGenericEvent = function createGenericEvent(category, action, label, value, nonInteraction) {\n  var obj = {\n    event: 'customEvent',\n    eventData: {\n      category: category,\n      action: action,\n      label: label,\n      value: value,\n      nonInteraction: nonInteraction\n    }\n  };\n  pushToDataLayer(obj);\n};\nvar dataLayer = {\n  createPageEvent: createPageEvent,\n  createGenericEvent: createGenericEvent,\n  setUserData: setUserData,\n  createCheckoutEnhancedEcommerceEvent: createCheckoutEnhancedEcommerceEvent,\n  createPurchaseEnhancedEcommerceEvent: createPurchaseEnhancedEcommerceEvent\n};\nexport { dataLayer };","map":{"version":3,"sources":["../../../src/utils/data-layer.util.ts"],"names":["pushToDataLayer","obj","window","dataLayer","push","setUserData","userId","event","userData","createPageEvent","path","pageData","createCheckoutEnhancedEcommerceEvent","step","product","nullObj","ecommerce","checkout","actionField","products","createPurchaseEnhancedEcommerceEvent","revenue","id","shipping","coupon","purchase","createGenericEvent","category","action","label","value","nonInteraction","eventData"],"mappings":";AAQA,IAAMA,eAAe,GAAG,SAAlBA,eAAe,CAAIC,GAAqB,EAAW;EACrDC,MAAM,CAACC,SAAS,GAAGD,MAAM,CAACC,SAAS,IAAI,EAAE;EACzCD,MAAM,CAACC,SAAS,CAACC,IAAI,CAACH,GAAG,CAAC;AAC9B,CAAC;AAED,IAAMI,WAAW,GAAG,SAAdA,WAAW,CAAIC,MAAc,EAAW;EAC1CN,eAAe,CAAC;IACZO,KAAK,EAAE,YAAY;IACnBC,QAAQ,EAAE;MACNF,MAAM,EAANA;IACJ;EACJ,CAAC,CAAC;AACN,CAAC;AAED,IAAMG,eAAe,GAAG,SAAlBA,eAAe,CAAIC,IAAY,EAAW;EAC5C,IAAMT,GAAqB,GAAG;IAC1BM,KAAK,EAAE,YAAY;IACnBI,QAAQ,EAAE;MACND,IAAI,EAAJA;IACJ;GACH;EACDV,eAAe,CAACC,GAAG,CAAC;AACxB,CAAC;AAED,IAAMW,oCAAoC,GAAG,SAAvCA,oCAAoC,CAAIC,IAAY,EAAEC,OAA6B,EAAW;EAChG,IAAMC,OAAiC,GAAG;IACtCC,SAAS,EAAE;GACd;EAED,IAAMf,GAA6B,GAAG;IAClCM,KAAK,EAAE,UAAU;IACjBS,SAAS,EAAE;MACPC,QAAQ,EAAA,cAAA,CAAA;QACJC,WAAW,EAAE;UAAEL,IAAI,EAAJA;QAAK;MAAC,CAAA,EACjBC,OAAO,IAAI;QAAEK,QAAQ,EAAEL;OAAS;IAE5C;GACH;EACDd,eAAe,CAACe,OAAO,CAAC,CAAC,CAAA;EACzBf,eAAe,CAACC,GAAG,CAAC;AACxB,CAAC;AAED,IAAMmB,oCAAoC,GAAG,SAAvCA,oCAAoC,CACtCC,OAAe,EACfC,EAAU,EACVC,QAAgB,EAChBC,MAAc,EACdV,OAA6B,EACtB;EACP,IAAMC,OAAiC,GAAG;IACtCC,SAAS,EAAE;GACd;EAED,IAAMf,GAA6B,GAAG;IAClCM,KAAK,EAAE,UAAU;IACjBS,SAAS,EAAE;MACPS,QAAQ,EAAA,cAAA,CAAA;QACJP,WAAW,EAAE;UACTI,EAAE,EAAFA,EAAE;UACFD,OAAO,EAAPA,OAAO;UACPE,QAAQ,EAARA,QAAQ;UACRC,MAAM,EAANA;QACJ;MAAC,CAAA,EACGV,OAAO,IAAI;QAAEK,QAAQ,EAAEL;OAAS;IAE5C;GACH;EAEDd,eAAe,CAACe,OAAO,CAAC;EACxBf,eAAe,CAACC,GAAG,CAAC;AACxB,CAAC;AAED,IAAMyB,kBAAkB,GAAG,SAArBA,kBAAkB,CACpBC,QAAgB,EAChBC,MAAc,EACdC,KAAc,EACdC,KAAc,EACdC,cAAwB,EACjB;EACP,IAAM9B,GAAqB,GAAG;IAC1BM,KAAK,EAAE,aAAa;IACpByB,SAAS,EAAE;MACPL,QAAQ,EAARA,QAAQ;MACRC,MAAM,EAANA,MAAM;MACNC,KAAK,EAALA,KAAK;MACLC,KAAK,EAALA,KAAK;MACLC,cAAc,EAAdA;IACJ;GACH;EACD/B,eAAe,CAACC,GAAG,CAAC;AACxB,CAAC;AAEM,IAAME,SAAS,GAAG;EACrBM,eAAe,EAAfA,eAAe;EACfiB,kBAAkB,EAAlBA,kBAAkB;EAClBrB,WAAW,EAAXA,WAAW;EACXO,oCAAoC,EAApCA,oCAAoC;EACpCQ,oCAAoC,EAApCA;AACJ,CAAA","sourcesContent":["import { IDataLayerObject, IDataLayerProduct, IEnhancedEcommerceObject } from '@common/interfaces/data-layer.interface';\n\ndeclare global {\n    interface Window {\n        dataLayer?: IDataLayerObject[];\n    }\n}\n\nconst pushToDataLayer = (obj: IDataLayerObject): void => {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push(obj);\n};\n\nconst setUserData = (userId: string): void => {\n    pushToDataLayer({\n        event: 'customUser',\n        userData: {\n            userId,\n        },\n    });\n};\n\nconst createPageEvent = (path: string): void => {\n    const obj: IDataLayerObject = {\n        event: 'customPage',\n        pageData: {\n            path,\n        },\n    };\n    pushToDataLayer(obj);\n};\n\nconst createCheckoutEnhancedEcommerceEvent = (step: string, product?: IDataLayerProduct[]): void => {\n    const nullObj: IEnhancedEcommerceObject = {\n        ecommerce: null,\n    };\n\n    const obj: IEnhancedEcommerceObject = {\n        event: 'checkout',\n        ecommerce: {\n            checkout: {\n                actionField: { step },\n                ...(product && { products: product }),\n            },\n        },\n    };\n    pushToDataLayer(nullObj); // Clear the previous ecommerce object.\n    pushToDataLayer(obj);\n};\n\nconst createPurchaseEnhancedEcommerceEvent = (\n    revenue: string,\n    id: string,\n    shipping: number,\n    coupon: string,\n    product?: IDataLayerProduct[],\n): void => {\n    const nullObj: IEnhancedEcommerceObject = {\n        ecommerce: null,\n    };\n\n    const obj: IEnhancedEcommerceObject = {\n        event: 'purchase',\n        ecommerce: {\n            purchase: {\n                actionField: {\n                    id,\n                    revenue,\n                    shipping,\n                    coupon,\n                },\n                ...(product && { products: product }),\n            },\n        },\n    };\n\n    pushToDataLayer(nullObj);\n    pushToDataLayer(obj);\n};\n\nconst createGenericEvent = (\n    category: string,\n    action: string,\n    label?: string,\n    value?: number,\n    nonInteraction?: boolean,\n): void => {\n    const obj: IDataLayerObject = {\n        event: 'customEvent',\n        eventData: {\n            category,\n            action,\n            label,\n            value,\n            nonInteraction,\n        },\n    };\n    pushToDataLayer(obj);\n};\n\nexport const dataLayer = {\n    createPageEvent,\n    createGenericEvent,\n    setUserData,\n    createCheckoutEnhancedEcommerceEvent,\n    createPurchaseEnhancedEcommerceEvent,\n};\n"]},"metadata":{},"sourceType":"module"}